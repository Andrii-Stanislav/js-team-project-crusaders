import{a as m,i as l}from"./vendor-8cce9181.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const c={body:document.querySelector("body"),quoteElement:document.querySelector(".quote-text"),authorElement:document.querySelector(".quote-author"),quoteCard:document.querySelector(".quote-card"),searchInputElement:document.querySelector(".search-input"),searchClearButton:document.querySelector(".button-clear"),searchFormElement:document.querySelector(".search-form"),exercisesContainer:document.querySelector(".exercises-container"),breadcrumbsText:document.querySelector(".breadcrumbs-subtitle"),breadcrumbsDivider:document.querySelector(".breadcrumbs-divider"),footerEmailInput:document.getElementById("mailing-email"),footerSubscribeForm:document.querySelector(".js-footer-newsletter-form")},a="favorite-exercises",f=e=>{const t=localStorage.getItem(a);if(t){const s=[...JSON.parse(t).filter(o=>o._id!==e._id),e];localStorage.setItem(a,JSON.stringify(s))}else localStorage.setItem(a,JSON.stringify([e]))},p=e=>{const t=localStorage.getItem(a);if(t){const s=JSON.parse(t).filter(o=>o._id!==e);localStorage.setItem(a,JSON.stringify(s))}},g=()=>{const e=localStorage.getItem(a);return e?JSON.parse(e):[]},S=e=>{const t=localStorage.getItem(a);return t?JSON.parse(t).some(s=>s._id===e):!1},y={add:f,remove:p,getAll:g,isFavorite:S},v="addToFavoritesButton";c.body.addEventListener("click",e=>{var t,r,s,o;(r=Array.from((t=e.target)==null?void 0:t.classList))!=null&&r.includes(v)&&((o=(s=e.target)==null?void 0:s.dataset)!=null&&o.info)&&y.add(e.target.dataset.info)});const q="https://your-energy.b.goit.study/api",u=m.create({baseURL:q}),h=e=>e,b=e=>(l.error({title:"Error",message:e.response.data.message}),Promise.reject(e));u.interceptors.response.use(h,b);const E=()=>u.get("/quote"),d="quote";function F(){const e=localStorage.getItem(d);return e?JSON.parse(e):null}function O(e,t,r){const s=JSON.stringify({date:e,quote:t,author:r});localStorage.setItem(d,s)}async function I(){const e=new Date().toDateString();let t=F();if(!t||t.date!==e){const{data:r}=await E();r&&(t={date:e,quote:r.quote,author:r.author},O(e,r.quote,r.author))}t&&(c.quoteElement.textContent=t.quote,c.authorElement.textContent=t.author?`${t.author}`:"Unknown author")}document.addEventListener("DOMContentLoaded",I);const L=e=>u.post("/subscription",{email:e}).then(t=>{l.success({title:"Success",message:t.message})});c.footerSubscribeForm.addEventListener("submit",function(e){e.preventDefault();const t=c.footerEmailInput.value;L(t)});
//# sourceMappingURL=main-0026a26d.js.map
