{"version":3,"file":"main-7554e63b.js","sources":["../../src/js/refs.js","../../src/js/storage/favorites.js","../../src/js/dom/favorites.js","../../src/images/svg/icons.svg","../../src/js/api/config.js","../../src/js/api/fetch-exercise.js","../../src/js/dom/modal.js"],"sourcesContent":["export const refs = {\n  body: document.querySelector('body'),\n  // TODO\n};\n","const FAVORITES_KEY = 'favorite-exercises';\n\nconst addToFavorites = exerciseObject => {\n  const favorites = localStorage.getItem(FAVORITES_KEY);\n\n  if (favorites) {\n    const parsedFavorites = JSON.parse(favorites);\n    const newFavorites = [\n      ...parsedFavorites.filter(f => f.id !== exerciseObject.id),\n      exerciseObject,\n    ];\n    localStorage.setItem(FAVORITES_KEY, JSON.stringify(newFavorites));\n  } else {\n    localStorage.setItem(FAVORITES_KEY, JSON.stringify([exerciseObject]));\n  }\n};\n\nconst removeFromFavorites = id => {\n  const favorites = localStorage.getItem(FAVORITES_KEY);\n  if (favorites) {\n    const parsedFavorites = JSON.parse(favorites);\n    const filteredFavorites = parsedFavorites.filter(f => f.id !== id);\n    localStorage.setItem(FAVORITES_KEY, JSON.stringify(filteredFavorites));\n  }\n};\n\nconst getAllFavorites = () => {\n  const favorites = localStorage.getItem(FAVORITES_KEY);\n  if (favorites) {\n    return JSON.parse(favorites);\n  }\n  return [];\n};\n\nconst isFavorite = id => {\n  const favorites = localStorage.getItem(FAVORITES_KEY);\n  if (favorites) {\n    const parsedFavorites = JSON.parse(favorites);\n    return parsedFavorites.some(f => f.id === id);\n  }\n  return false;\n};\n\nexport const favoritesStorage = {\n  add: addToFavorites,\n  remove: removeFromFavorites,\n  getAll: getAllFavorites,\n  isFavorite,\n};\n","import { refs } from '../refs';\nimport { favoritesStorage } from '../storage/favorites';\n\nconst ADD_TO_FAVORITES_BUTTON_CLASS = 'addToFavoritesButton';\n\nrefs.body.addEventListener('click', e => {\n  if (\n    Array.from(e.target?.classList)?.includes(ADD_TO_FAVORITES_BUTTON_CLASS) &&\n    e.target?.dataset?.info\n  ) {\n    favoritesStorage.add(e.target.dataset.info);\n  }\n});\n\n// TODO before saving data to html data-info replaceAll all single quotes\n// 'JSON.stringify(item).replaceAll(\"'\", '&apos;')'\n","export default \"__VITE_ASSET__f9984085__\"","export const BASE_URL = 'https://your-energy.b.goit.study/api';\n","import { BASE_URL } from './config';\n\nexport async function fetchExercise(id) {\n  const URL = `${BASE_URL}/exercises/${id}`;\n\n  try {\n    const res = await fetch(URL);\n    return await res.json();\n  } catch {\n    console.log('error')\n  }\n}\n","import spriteUrl from './../../images/svg/icons.svg';\nimport { fetchExercise } from '../api/fetch-exercise';\nimport { isFavorite } from './../storage/favorites'\nexport class Modal {\n  constructor() {\n    this.modal = document.getElementById('modalDescription');\n    this.closeBtn = document.querySelector('.button-close');\n    this.modalContent = document.querySelector('.modal-exercises__card');\n\n    this.handleCloseButtonClick = this.handleCloseButtonClick.bind(this);\n    this.handleModalClick = this.handleModalClick.bind(this);\n\n    this.init();\n  }\n\n  init() {\n    this.closeBtn.addEventListener('click', this.handleCloseButtonClick);\n    this.modal.addEventListener('click', this.handleModalClick);\n  }\n\n  handleCloseButtonClick() {\n    this.close();\n  }\n\n  handleModalClick(event) {\n    if (event.target == this.modal) {\n      this.close();\n    }\n  }\n\n  open() {\n    this.modal.showModal();\n  }\n\n  close() {\n    this.modal.close();\n  }\n\n  destroy() {\n    this.closeBtn.removeEventListener('click', this.handleCloseButtonClick);\n    this.modal.removeEventListener('click', this.handleModalClick);\n  }\n}\n\ndocument.getElementById('open-modal').addEventListener('click', () => {\n  modalExercises('64f389465ae26083f39b17a5');\n});\n\nexport async function modalExercises(id, fn) {\n  const myModal = new Modal();\n\n  try {\n    const cardData = await fetchExercise(id);\n\n    myModal.modalContent.innerHTML = '';\n\n    myModal.modalContent.insertAdjacentHTML(\n      'beforeend',\n      createModalExercisesMarkup({\n        ...cardData,\n        rating: Number(cardData.rating).toFixed(1),\n      })\n    );\n    myModal.open();\n\n    myModal.modalContent.addEventListener('click', event => {\n      if (event.target.closest('.modal-exercises__button-favourites')) {\n        // handleClickFavoritesBtn(cardData);\n        console.log('tyt');\n      }\n    });\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport function createModalExercisesMarkup(cardData) {\n  const {\n    name,\n    burnedCalories,\n    bodyPart,\n    description,\n    target,\n    equipment,\n    gifUrl,\n    popularity,\n    rating,\n    time,\n    _id,\n  } = cardData;\n\n  return `\n    <div class=\"modal-exercises__image-wrapper\">\n      <img class=\"modal-exercises__image\" src=\"${\n        gifUrl !== null ? gifUrl : noImageUrl\n      }\" alt=\"${name}\" />\n    </div>\n    <div class=\"modal-exercises__description\">\n      <p class=\"modal-exercises__name\">${name}</p>\n      <div id=\"rating\" class=\"modal-exercises__rating\">\n        <div class=\"modal-exercises__rating-value\">${rating}</div>\n        <span class=\"modal-exercises__rating-star\" data-value=\"1\">&#9733;</span>\n        <span class=\"modal-exercises__rating-star\" data-value=\"2\">&#9733;</span>\n        <span class=\"modal-exercises__rating-star\" data-value=\"3\">&#9733;</span>\n        <span class=\"modal-exercises__rating-star\" data-value=\"4\">&#9733;</span>\n        <span class=\"modal-exercises__rating-star\" data-value=\"5\">&#9733;</span>\n      </div>\n      <div class=\"modal-exercises__partials\">\n        <div class=\"modal-exercises__partials-item\">\n          <p class=\"modal-exercises__partials-title\">Target</p>\n          <p class=\"modal-exercises__partials-value\">${target}</p>\n        </div>\n        <div class=\"modal-exercises__partials-item\">\n          <p class=\"modal-exercises__partials-title\">Body Part</p>\n          <p class=\"modal-exercises__partials-value\">${bodyPart}</p>\n        </div>\n        <div class=\"modal-exercises__partials-item\">\n          <p class=\"modal-exercises__partials-title\">Equipment</p>\n          <p class=\"modal-exercises__partials-value\">${equipment}</p>\n        </div>\n        <div class=\"modal-exercises__partials-title\">\n          <p class=\"modal-exercises__partials-title\">Popular</p>\n          <p class=\"modal-exercises__partials-value\">${popularity}</p>\n        </div>\n        <div class=\"modal-exercises__partials-item\">\n          <p class=\"modal-exercises__partials-title\">Burned calories</p>\n          <p class=\"modal-exercises__partials-value\">${burnedCalories}/${time} \n            <span class=\"modal-exercises__partials-value_span\">min</span>\n          </p>\n        </div>\n      </div>\n      <p class=\"modal-exercises__text\">\n        ${description}\n      </p>\n      <div class=\"modal-exercises__buttons\">\n      ${\n        false\n          ? `<button \n          type=\"button\"\n          class=\"modal-exercises__button-favourites unfavorite-btn\"\n          >\n          Unfavorite\n          <svg\n            class=\"modal-exercises__button-favourites_icon\"\n            aria-label='heart'\n            width=\"20\"\n            height=\"20\"\n          >\n            <use href=${spriteUrl}#icon-trash></use>\n          </svg>`\n          : `<button \n          type=\"button\"\n          class=\"modal-exercises__button-favourites\n          add-to-favorites-btn\">\n          Add to favorites\n          <svg\n            class=\"modal-exercises__button-favourites_icon\"\n            aria-label='heart'\n            width=\"20\"\n            height=\"20\"\n          >\n            <use href=${spriteUrl}#icon-heart></use>\n          </svg>`\n      }\n        </button>\n        <button class=\"modal-exercises__button-rating\" data-value=\"${_id}\">Give a rating</button>\n      </div>\n    </div>`;\n}\n\n\n\n// const exercisesListRef = document.getElementById('exercises-list-container');\n\n// if (exercisesListRef) {\n//   exercisesListRef.addEventListener('click', onExerciseListClick);\n// }\n\n// export function onExerciseListClick(event) {\n\n//   if (!event.target.closest('[data-id]')) {\n//     return;\n//   }\n\n//   const id = event.target.closest('[data-id]').dataset.id;\n//   modalExercises('64f389465ae26083f39b17a5');\n// }\n\n\n\n// export const handleClickFavoritesBtn = cardData => {\n//   const favoriteButton = document.querySelector(\n//     '.modal-exercises__button-favourites'\n//   );\n//   const isFavorite = isFavorite(cardData._id)\n//   if (!isFavorite) {\n//     // TODO: addFavoriteCardToLocal(cardData);\n\n//     favoriteButton.innerHTML = `Unfavorite\n//     <svg\n//             class=\"modal-exercises__button-favourites_icon unfavorite-btn\"\n//             aria-label='heart'\n//             width=\"20\"\n//             height=\"20\"\n//           >\n//             <use href=${spriteUrl}#icon-trash></use>\n//           </svg>`;\n\n//     return;\n//   }\n\n//   // TODO: removeFavoriteCardFromLocal(cardData._id);\n\n//   favoriteButton.innerHTML = `Add to favorites\n//           <svg\n//             class=\"modal-exercises__button-favourites_icon add-to-favorites-btn\"\n//             aria-label='heart'\n//             width=\"20\"\n//             height=\"20\"\n//           >\n//             <use href=${spriteUrl}#icon-heart></use>\n//           </svg>`;\n\n//   return;\n// };\n\n"],"names":["refs","FAVORITES_KEY","addToFavorites","exerciseObject","favorites","newFavorites","f","removeFromFavorites","id","filteredFavorites","getAllFavorites","isFavorite","favoritesStorage","ADD_TO_FAVORITES_BUTTON_CLASS","e","_b","_a","_d","_c","spriteUrl","BASE_URL","fetchExercise","URL","Modal","event","modalExercises","fn","myModal","cardData","createModalExercisesMarkup","error","name","burnedCalories","bodyPart","description","target","equipment","gifUrl","popularity","rating","time","_id"],"mappings":"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"}