import{a as b,i as p,P as I}from"./vendor-0462b126.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const n={body:document.querySelector("body"),quoteElement:document.querySelector(".quote-text"),authorElement:document.querySelector(".quote-author"),quoteCard:document.querySelector(".quote-card"),exercisesFiltersList:document.querySelector(".js-exercises-filters-list"),exercisesFiltersTabs:document.getElementById("exercises-filters-tabs"),exercisesFiltersTabsList:document.querySelectorAll(".exercises-filters-tab"),exercisesFiltersPagination:document.getElementById("exercises-filters-pagination"),searchInputElement:document.querySelector(".search-input"),searchClearButton:document.querySelector(".button-clear"),searchFormElement:document.querySelector(".search-form"),exercisesContainer:document.querySelector(".exercises-container"),breadcrumbsText:document.querySelector(".breadcrumbs-subtitle"),breadcrumbsDivider:document.querySelector(".breadcrumbs-divider"),footerEmailInput:document.getElementById("mailing-email"),footerSubscribeForm:document.querySelector(".js-footer-newsletter-form")},c="favorite-exercises",q=e=>{const t=localStorage.getItem(c);if(t){const o=[...JSON.parse(t).filter(s=>s._id!==e._id),e];localStorage.setItem(c,JSON.stringify(o))}else localStorage.setItem(c,JSON.stringify([e]))},T=e=>{const t=localStorage.getItem(c);if(t){const o=JSON.parse(t).filter(s=>s._id!==e);localStorage.setItem(c,JSON.stringify(o))}},_=()=>{const e=localStorage.getItem(c);return e?JSON.parse(e):[]},O=e=>{const t=localStorage.getItem(c);return t?JSON.parse(t).some(o=>o._id===e):!1},P={add:q,remove:T,getAll:_,isFavorite:O},N="addToFavoritesButton";n.body.addEventListener("click",e=>{var t,r,o,s;(r=Array.from((t=e.target)==null?void 0:t.classList))!=null&&r.includes(N)&&((s=(o=e.target)==null?void 0:o.dataset)!=null&&s.info)&&P.add(e.target.dataset.info)});(()=>{const e=document.querySelector("[data-menu-open]"),t=document.querySelector("[data-menu-close]"),r=document.querySelector("[data-menu-backdrop]");e.addEventListener("click",s),t.addEventListener("click",s),r.addEventListener("click",o);function o(i){i.target===i.currentTarget&&s()}function s(){r.classList.toggle("is-open-mobile-menu")}})();const f="current-exercises-filter-page",g="current-exercises-filter-keyword",d="is-opened-exercises-list",a={checkIsOpenExercisesList:()=>sessionStorage.getItem(d)==="true",openExercisesList:()=>{sessionStorage.setItem(d,"true")},closeExercisesList:()=>{sessionStorage.setItem(d,"false")},exercisesFilters:{set:e=>{sessionStorage.setItem(g,e)},get:()=>sessionStorage.getItem(g)??"Muscles"},exercisesFiltersTable:{setPage:e=>{sessionStorage.setItem(f,e.toString())},getPage:()=>{const e=sessionStorage.getItem(f);return e?Number(e):1}}},S=()=>{a.openExercisesList(),n.exercisesFiltersList.classList.add("visually-hidden"),n.exercisesFiltersPagination.classList.add("visually-hidden"),n.searchFormElement.classList.remove("visually-hidden"),n.exercisesContainer.classList.remove("visually-hidden")},E=()=>{a.closeExercisesList(),n.exercisesFiltersList.classList.remove("visually-hidden"),n.exercisesFiltersPagination.classList.remove("visually-hidden"),n.searchFormElement.classList.add("visually-hidden"),n.exercisesContainer.classList.add("visually-hidden")},C=a.checkIsOpenExercisesList();C?S():E();const R="https://your-energy.b.goit.study/api",u=b.create({baseURL:R}),w=e=>e,A=e=>(p.error({title:"Error",message:e.response.data.message}),Promise.reject(e));u.interceptors.response.use(w,A);const x=({page:e,filter:t})=>u.get(`/filters?page=${e}&filter=${t}`),$=a.exercisesFiltersTable.getPage(),F=a.exercisesFilters.get();L({page:$,filter:F});n.exercisesFiltersTabsList.forEach(e=>{e.textContent.trim()===F&&e.classList.add("active")});function L({page:e,filter:t}){x({page:e,filter:t}).then(({data:{results:r,page:o,perPage:s,totalPages:i}})=>{new I("exercises-filters-pagination",{page:Number(o),itemsPerPage:s,totalItems:i*s}).on("beforeMove",function(m){const h=a.exercisesFilters.get();M(h,m.page),a.exercisesFiltersTable.setPage(m.page)}),v(r)})}function M(e,t){x({page:t,filter:e}).then(({data:r})=>{v(r.results),B()})}function v(e){n.exercisesFiltersList.innerHTML="";const t=e.map(({filter:r,name:o,imgURL:s})=>{const i=`data-filter="${o}"`;return`
  <li class="filters__item" ${i}>
    <img class="filters__img-first" src="${s}"  ${i}></img>
    <div class="filters__wrapper-first" ${i}>
    <h2 class="filters__title-first" ${i}>${r}</h2>
    <p class="filters__text-first" ${i}>${o}</p>
    </div>
  </li>
    `}).join("");n.exercisesFiltersList.insertAdjacentHTML("beforeend",t)}n.exercisesFiltersTabs.addEventListener("click",e=>{n.exercisesFiltersTabsList.forEach(r=>{r.classList.remove("active")}),e.target.classList.add("active");const t=e.target.textContent.trim();n.exercisesFiltersList.innerHTML="",E(),a.exercisesFilters.set(t),a.exercisesFiltersTable.setPage(1),L({page:1,filter:t})});function B(){window.scrollTo({top:830,behavior:"auto"})}const D=()=>u.get("/quote"),y="quote";function k(){const e=localStorage.getItem(y);return e?JSON.parse(e):null}function J(e,t,r){const o=JSON.stringify({date:e,quote:t,author:r});localStorage.setItem(y,o)}async function U(){const e=new Date().toDateString();let t=k();if(!t||t.date!==e){const{data:r}=await D();r&&(t={date:e,quote:r.quote,author:r.author},J(e,r.quote,r.author))}t&&(n.quoteElement.textContent=t.quote,n.authorElement.textContent=t.author?`${t.author}`:"Unknown author")}document.addEventListener("DOMContentLoaded",U);const Q=e=>u.post("/subscription",{email:e}).then(t=>{p.success({title:"Success",message:t.message})});n.footerSubscribeForm.addEventListener("submit",function(e){e.preventDefault();const t=n.footerEmailInput.value;Q(t)});n.exercisesFiltersList.addEventListener("click",e=>{e.target.dataset.filter&&S()});
//# sourceMappingURL=main-ba7c0fda.js.map
